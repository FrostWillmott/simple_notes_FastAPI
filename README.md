# Simple CRUD API для заметок

Простое REST API для управления заметками, построенное на FastAPI и SQLAlchemy.

## Возможности

- ✅ Создание заметок
- ✅ Получение списка заметок
- ✅ Получение заметки по ID
- ✅ Обновление заметок
- ✅ Удаление заметок
- ✅ Автоматическая документация API (Swagger UI)
- ✅ Миграции базы данных через Alembic

## Технологии

- **FastAPI** — современный веб-фреймворк для создания API
- **SQLAlchemy** — ORM для работы с базой данных
- **Alembic** — инструмент для миграций базы данных
- **SQLite** — легковесная встроенная база данных
- **Uvicorn** — ASGI сервер
- **Pydantic** — валидация данных

## Установка

### Требования

- Python >= 3.12
- uv (менеджер пакетов)

### Шаги установки

1. Клонируйте репозиторий:
```bash
git clone git@github.com:FrostWillmott/simple_notes_FastAPI.git
cd simple_notes_FastAPI
```

2. Создайте виртуальное окружение и установите зависимости:
```bash
uv sync
```

3. Примените миграции базы данных:
```bash
alembic upgrade head
```

## Запуск

Запустите сервер разработки:

```bash
python main.py
```

или

```bash
uv run uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

API будет доступно по адресу: `http://localhost:8000`

## Документация API

После запуска сервера документация доступна по адресам:

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

## Endpoints

### POST /notes/
Создать новую заметку

**Тело запроса:**
```json
{
  "title": "Название заметки",
  "content": "Содержимое заметки"
}
```

### GET /notes/
Получить список всех заметок с поддержкой пагинации

**Параметры запроса:**
- `skip` (по умолчанию: 0) — количество пропускаемых записей (offset для пагинации)
- `limit` (по умолчанию: 20) — максимальное количество возвращаемых записей (размер страницы)

**Пример запроса:**
```bash
# Первая страница (первые 20 заметок)
GET /notes/?skip=0&limit=20

# Вторая страница (следующие 20 заметок)
GET /notes/?skip=20&limit=20

# Третья страница (следующие 20 заметок)
GET /notes/?skip=40&limit=20
```

### GET /notes/{note_id}
Получить заметку по ID

### PUT /notes/{note_id}
Обновить заметку

**Тело запроса:**
```json
{
  "title": "Новое название",
  "content": "Новое содержимое"
}
```

### DELETE /notes/{note_id}
Удалить заметку

## Структура проекта

```
.
├── alembic/              # Миграции базы данных
├── app/
│   ├── __init__.py
│   ├── crud.py          # CRUD операции
│   ├── database.py      # Настройка подключения к БД
│   ├── models.py        # SQLAlchemy модели
│   └── schemas.py       # Pydantic схемы
├── main.py              # Точка входа приложения
├── pyproject.toml       # Конфигурация проекта и зависимости
├── alembic.ini          # Конфигурация Alembic
└── test.db              # База данных SQLite
```

## Разработка

### Создание новой миграции

```bash
alembic revision --autogenerate -m "описание изменений"
```

### Применение миграций

```bash
alembic upgrade head
```

### Откат миграций

```bash
alembic downgrade -1
```

## Лицензия

MIT
